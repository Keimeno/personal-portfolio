import TProject from '@/types/ProjectType';

const html2Pdf = {
	description: 'PDF converters comparison',
	background:
		"A project I've done during my internship at oliv-newton.\nIt compares frontend and backend solutions to convert\na webpage to PDF and makes it available for download to the user.",
	hasLivePreview: false,
	hasSourceCode: true,
	sourceCode: 'https://github.com/Keimeno/html-2-pdf',
	screenshots: [],
	hasReadme: true,
	readme:
		"# HTML2PDF\n### Table of Contents\n1. Client Side Setup\n      1. jsPDF\n      2. Example\n2. Server Side Setup\n   1. wkhtmltopdf\n   2. Python (pdfkit module)\n3. Pros and Cons\n   1. jsPDF and html2canvas\n   2. wkhtmltopdf\n\n### Client Side Setup\n#### jsPDF\nImport the latest version to your page using a CDN.\n\n`<script src=\"https://unpkg.com/jspdf@latest/dist/jspdf.min.js\"></script>`\n\nThis Javascript library allows you to easily create PDF files and make it downloadable to the user.\n\nAs an example of this:\n\n```\nvar doc = new jsPDF();\n\ndoc.text('Hello world!', 10, 10);\ndoc.save('a4.pdf');\n```\n\nFurther examples can be found on their [documentation page](http://raw.githack.com/MrRio/jsPDF/master/docs/).\n#### Example\nWe can find the following example [here](https://github.com/GeorgeWalt/HTML2PDF/blob/master/examples/client_side/conversion.js).\n\nWe will write a function that in this example will be called when the website content has been loaded.\n\n1. We create a canvas using the library html2canvas, which we must [download](https://github.com/niklasvh/html2canvas/releases/download/v1.0.0-rc.3/html2canvas.min.js) first. Keep in mind that you must use version 1.0.0 for this.\n2. We then retrieve the jpeg image data from it.\n3. Now we create a new jsPDF object with the parameters: `p`, `mm` and `a4`.\n   1. With `p` we say the pdf should be in portrait mode.\n   2. After that, we say with `mm` that we want to use millimeters to calculate with.\n   3. We tell jsPDF with `a4` that we want a DIN-A4 sized page.\n4. After this, we get the image and page height and width.\n5. Then we calculate the ratio. We then use a ternary operator to determine if the ratio of imageWidth/imageHeight is bigger than the pageWidth/pageHeight. And if that’s the case we set the `ratio` variable to the pageWidth/imageWidth, otherwise we set it to the pageHeight/imageHeight.\n6. Now we use the `addImage()` function from our new jsPDF object. With it, we insert the image data. And insert the position.\n7. In the end, we make the user download the pdf file by calling the `save()` function.\n\nHere is the corresponding code to this example: \n\n```\nfunction print() {\n    html2canvas(document.querySelector('body')).then(canvas => {\n        var imgData = canvas.toDataURL('image/jpeg');\n        var pdf = new jsPDF('p', 'mm', 'a4');\n        var pageWidth = pdf.internal.pageSize.width;\n        var pageHeight = pdf.internal.pageSize.height;\n        var imageWidth = canvas.width;\n        var imageHeight = canvas.height;\n\n        var ratio = imageWidth/imageHeight >= pageWidth/pageHeight ? pageWidth/imageWidth : pageHeight/imageHeight;\n        pdf.addImage(imgData, 'JPEG', 0, 0, imageWidth * ratio, imageHeight * ratio);\n        pdf.save('demo.pdf');\n    });\n}\n```\n### Server Side Setup\n#### wkhtmltopdf\nwkhtmltopdf is an extensive command-line tool to render HTML to PDF, while using the QT WebKit Engine.\n\nTo set up, wkhtmltopdf download the binaries from [here](https://wkhtmltopdf.org/downloads.html). Choose a Stable version and your OS.\n\nFor Ubuntu/Debian just enter `sudo apt install wkhtmltopdf` into your command line.\n\nAfter the install, add the `/bin/` folder of wkhtmltopdf to your PATH.\n\nNow, reload all your command line instances and you can now use it properly.\n\nAs an example, you can convert a webpage to a pdf file by entering: `wkhtmltopdf https://wikipedia.org/wiki/Wiki demo.pdf`. This will create the demo.pdf file in your current folder.\n\n#### Python (pdfkit module)\nIf you want to use this for Python-specific, there’s the pdfkit module, which you can install with the pip packet manager. `pip install pdfkit`. But keep in mind that you must install wkhtmltopdf as well to use it.\n\nHere’s a quick example of how you can convert a webpage to HTML with pdfkit: \n\n```\nimport pdfkit\n\n# Create a PDF file from a URL. \npdfkit.from_url('https://en.wikipedia.org/wiki/Wiki', 'demo1.pdf')\n\n# Create a PDF file from a file. \npdfkit.from_file('../client_side/wiki.html', 'demo2.pdf')\n```\nYou have the option to convert a pdf file from a webpage or a local HTML file.\n\nWe can find this example in particular [here](https://github.com/GeorgeWalt/HTML2PDF/blob/master/examples/server_side/conversion.py).\n### Pros and Cons\n#### jsPDF and html2canvas\n1. Pros\n   1. Uses Client resources to convert the HTML file.\n   2. Very flexible and stores any CSS content as it makes a screenshot of the section.\n2. Cons\n   1. Text and SVG files are not scaleable.\n   2. The text is not highlightable.\n   3. Content can get blurry.\n   4. It doesn’t support multiple pages.\n   5. Extremely high file size.\n\n#### wkhtmltopdf\n1. Pros\n   1. The text is highlightable.\n   2. Text and SVG files are scaleable.\n   3. Handles multiple pages very well.\n   4. Small file size.\n2. Cons\n   1. Encoding errors can happen.\n   2. Uses server resources.\n"
} as TProject;

export default html2Pdf;
